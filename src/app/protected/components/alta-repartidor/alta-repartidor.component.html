<h2>{{ this.title }}</h2>

<div class="container">
  <form [formGroup]="this.formRepartidor" (ngSubmit)="sendForm()">
    <div class="form-group">
      <label for="dni">dni</label>
      <input
        type="number"
        class="form-control"
        id="dni"
        placeholder="11111111"
        formControlName="dni"
      />

      <small
        class="invalid"
        *ngIf="
          this.formRepartidor.get('dni')?.errors?.required &&
          this.formRepartidor.get('dni')?.touched
        "
      >
        El dni es requerido
      </small>

      <small
        class="invalid"
        *ngIf="
          this.formRepartidor.get('dni')?.errors?.min ||
          this.formRepartidor.get('dni')?.errors?.max
        "
      >
        El dni debe ser mínimo 11111111 y máximo 99999999 (8 números)
      </small>
    </div>

    <div class="form-group">
      <label for="nombre">Nombre</label>
      <input
        type="text"
        class="form-control"
        id="nombre"
        placeholder="Aa"
        formControlName="nombre"
      />

      <small
        class="invalid"
        *ngIf="
          this.formRepartidor.get('nombre')?.errors?.required &&
          this.formRepartidor.get('nombre')?.touched
        "
      >
        El nombre es requerido
      </small>
    </div>

    <div class="form-group">
      <label for="edad">Edad</label>
      <input
        type="number"
        class="form-control"
        id="edad"
        placeholder="18"
        formControlName="edad"
      />

      <small
        class="invalid"
        *ngIf="
          this.formRepartidor.get('edad')?.errors?.required &&
          this.formRepartidor.get('edad')?.touched
        "
      >
        La edad es requerida
      </small>

      <small
        class="invalid"
        *ngIf="
          this.formRepartidor.get('edad')?.errors?.min ||
          this.formRepartidor.get('edad')?.errors?.max
        "
      >
        La edad debe ser mínimo 18 y máximo 99
      </small>
    </div>

    <div class="form-group">
      <label for="capacidadTransporte">Capacidad transporte</label>
      <input
        type="number"
        class="form-control"
        id="capacidadTransporte"
        placeholder="0"
        formControlName="capacidadTransporte"
      />

      <small
        class="invalid"
        *ngIf="
          this.formRepartidor.get('capacidadTransporte')?.errors?.required &&
          this.formRepartidor.get('capacidadTransporte')?.touched
        "
      >
        La capacidad de transporte es requerida
      </small>

      <small
        class="invalid"
        *ngIf="
          this.formRepartidor.get('capacidadTransporte')?.errors?.min ||
          this.formRepartidor.get('capacidadTransporte')?.errors?.max
        "
      >
        La capacidad de transporte debe ser mínimo 0 y máximo 100
      </small>
    </div>

    <div class="form-group">
      <div class="form-check">
        <input
          class="form-check-input"
          type="checkbox"
          value=""
          id="unidadPropia"
          formControlName="unidadPropia"
        />
        <label class="form-check-label" for="unidadPropia">
          Unidad propia
        </label>
      </div>
    </div>

    <div class="form-group">
      <label class="form-label">Pais de origen (Elija de la lista)</label>
    </div>

    <div
      class="card col-12"
      style="max-width: 200px"
      *ngIf="this.selectedCountry"
    >
      <img
        [src]="this.selectedCountry?.flag"
        class="card-img-top"
        alt="image pais"
      />
      <div class="card-body">
        <h5 class="card-title">{{ this.selectedCountry?.name }}</h5>
      </div>
    </div>

    <button
      class="my-4 w-100 btn btn-primary btn-lg"
      type="submit"
      [disabled]="formRepartidor.invalid || !this.selectedCountry"
    >
      Crear
    </button>
  </form>
</div>
